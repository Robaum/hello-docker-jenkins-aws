Started by user [8mha:AAAAlh+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzOEgYu/dLi1CL9vNKcHACFIKlWvwAAAA==[0manonymous
ln 2015-03-18_16-49-34 /var/jenkins_home/jobs/Docker/builds/12 failed
java.nio.file.FileSystemException: /var/jenkins_home/jobs/Docker/builds/12: Protocol error
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:91)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.createSymbolicLink(UnixFileSystemProvider.java:456)
	at java.nio.file.Files.createSymbolicLink(Files.java:996)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at hudson.Util.createSymlinkJava7(Util.java:1196)
	at hudson.Util.createSymlink(Util.java:1112)
	at hudson.model.Run.updateSymlinks(Run.java:1831)
	at hudson.model.Run.execute(Run.java:1743)
	at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)
	at hudson.model.ResourceController.execute(ResourceController.java:89)
	at hudson.model.Executor.run(Executor.java:240)
ln builds/lastSuccessfulBuild /var/jenkins_home/jobs/Docker/lastSuccessful failed
java.nio.file.FileSystemException: /var/jenkins_home/jobs/Docker/lastSuccessful: Protocol error
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:91)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.createSymbolicLink(UnixFileSystemProvider.java:456)
	at java.nio.file.Files.createSymbolicLink(Files.java:996)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at hudson.Util.createSymlinkJava7(Util.java:1196)
	at hudson.Util.createSymlink(Util.java:1112)
	at hudson.model.Run.createSymlink(Run.java:1851)
	at hudson.model.Run.updateSymlinks(Run.java:1832)
	at hudson.model.Run.execute(Run.java:1743)
	at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)
	at hudson.model.ResourceController.execute(ResourceController.java:89)
	at hudson.model.Executor.run(Executor.java:240)
ln builds/lastStableBuild /var/jenkins_home/jobs/Docker/lastStable failed
java.nio.file.FileSystemException: /var/jenkins_home/jobs/Docker/lastStable: Protocol error
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:91)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.createSymbolicLink(UnixFileSystemProvider.java:456)
	at java.nio.file.Files.createSymbolicLink(Files.java:996)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at hudson.Util.createSymlinkJava7(Util.java:1196)
	at hudson.Util.createSymlink(Util.java:1112)
	at hudson.model.Run.createSymlink(Run.java:1851)
	at hudson.model.Run.updateSymlinks(Run.java:1833)
	at hudson.model.Run.execute(Run.java:1743)
	at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)
	at hudson.model.ResourceController.execute(ResourceController.java:89)
	at hudson.model.Executor.run(Executor.java:240)
Building remotely on [8mha:AAAAmx+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzWEgZ+/eT83ILSktQifZ/85MQcAKyxGIjEAAAA[0mLocal (docker) in workspace /data/jenkins/slaves/local/workspace/Docker
[Docker] $ /bin/sh -xe /tmp/hudson1502416046313028648.sh
+ sudo ansible-playbook -i 54.164.139.173, --private-key /home/vagrant/.ssh/Ansible.pem --extra-vars build=v11 /vagrant/ansible/ec2.yml

PLAY [Start Docker Container] ************************************************* 

GATHERING FACTS *************************************************************** 
ok: [54.164.139.173]

TASK: [Stop all Containers] *************************************************** 
ok: [54.164.139.173]

TASK: [Remove all Containers] ************************************************* 
ok: [54.164.139.173]

TASK: [start hello-node] ****************************************************** 
changed: [54.164.139.173]

PLAY RECAP ******************************************************************** 
54.164.139.173             : ok=4    changed=1    unreachable=0    failed=0   

[Docker] $ /bin/sh -xe /tmp/hudson7980768304429724168.sh
+ sudo docker build -t robaum/hello-node:v12 /vagrant/app/
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 4.684 MB
Sending build context to Docker daemon 
Step 0 : FROM node:0.10
 ---> 164719f9d7ea
Step 1 : MAINTAINER Roberto Amador
 ---> Using cache
 ---> 76bb18805f52
Step 2 : RUN mkdir -p /app
 ---> Using cache
 ---> 5144aa221bf1
Step 3 : WORKDIR /app
 ---> Using cache
 ---> d7faf66a1af6
Step 4 : ADD . /app
 ---> c53af80ca0e2
Removing intermediate container 07a0864977b7
Step 5 : EXPOSE 3000
 ---> Running in 949c3a1c4cd6
 ---> 85cd3a36081b
Removing intermediate container 949c3a1c4cd6
Step 6 : CMD node app.js
 ---> Running in 38a7a674aa5c
 ---> 236ea790f00c
Removing intermediate container 38a7a674aa5c
Successfully built 236ea790f00c
+ sudo docker run --rm -w /app robaum/hello-node:v12 ./node_modules/mocha/bin/mocha ./test/test.js

  [90mâ€¤[0m

[92m [0m[32m 1 passing[0m[90m (28ms)[0m

+ sudo docker push robaum/hello-node:v12
The push refers to a repository [robaum/hello-node] (len: 1)
Sending image list
Pushing repository robaum/hello-node (1 tags)
511136ea3c5a: Pushing
511136ea3c5a: Image already pushed, skipping
3b3a4796eef1: Pushing
3b3a4796eef1: Image already pushed, skipping
50ec2d202fe8: Pushing
50ec2d202fe8: Image already pushed, skipping
1073b544a1cb: Pushing
1073b544a1cb: Image already pushed, skipping
6a7520a7fd8c: Pushing
6a7520a7fd8c: Image already pushed, skipping
97218cc5aae0: Pushing
97218cc5aae0: Image already pushed, skipping
998340f14a46: Pushing
998340f14a46: Image already pushed, skipping
2a691fec3008: Pushing
2a691fec3008: Image already pushed, skipping
6a0227f1e88d: Pushing
6a0227f1e88d: Image already pushed, skipping
e7b3b271536d: Pushing
e7b3b271536d: Image already pushed, skipping
164719f9d7ea: Pushing
164719f9d7ea: Image already pushed, skipping
76bb18805f52: Pushing
76bb18805f52: Image already pushed, skipping
5144aa221bf1: Pushing
5144aa221bf1: Image already pushed, skipping
d7faf66a1af6: Pushing
d7faf66a1af6: Image already pushed, skipping
c53af80ca0e2: Pushing
c53af80ca0e2: Buffering to disk
c53af80ca0e2: Image successfully pushed
85cd3a36081b: Pushing
85cd3a36081b: Buffering to disk
85cd3a36081b: Image successfully pushed
236ea790f00c: Pushing
236ea790f00c: Buffering to disk
236ea790f00c: Image successfully pushed
Pushing tag for rev [236ea790f00c] on {https://cdn-registry-1.docker.io/v1/repositories/robaum/hello-node/tags/v12}
Finished: SUCCESS
